<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>暖心商城 - 首页</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: "微软雅黑"; }
        .header { background: #e91e63; color: white; padding: 10px 20px; display: flex; justify-content: space-between; align-items: center; }
        .nav a { color: white; margin-left: 20px; text-decoration: none; }
        .container { padding: 20px; }
        .goods-list { display: flex; flex-wrap: wrap; gap: 20px; margin-top: 20px; }
        .goods-item { border: 1px solid #eee; padding: 10px; width: 250px; }
        .goods-item img { width: 100%; height: 200px; object-fit: cover; }
        .goods-item a { text-decoration: none; color: #333; }
        .price { color: red; font-size: 18px; margin: 10px 0; }
    </style>
</head>
<body>
    <div class="header">
        <h1>暖心商城</h1>
        <div class="nav">
            <a href="{% url 'home' %}">首页</a>
            <a href="{% url 'category' %}">商品分类</a>
            {% if user.is_authenticated %}
                <a href="{% url 'cart_list' %}">购物车</a>
                <a href="{% url 'order_list' %}">我的订单</a>
                <a href="{% url 'profile' %}">个人中心</a>
                <a href="{% url 'logout' %}">登出</a>
            {% else %}
                <a href="{% url 'login' %}">登录</a>
                <a href="{% url 'register' %}">注册</a>
            {% endif %}
        </div>
    </div>

    <div class="container">
        <h2>热门商品</h2>
        <div class="goods-list">
            {% for goods in goods_list %}
            <div class="goods-item">
                {% if goods.images.first %}
                    <img src="{{ goods.images.first.image.url }}" alt="{{ goods.name }}">
                {% else %}
                    <img src="/static/default.png" alt="默认图片">
                {% endif %}
                <a href="{% url 'goods_detail' goods.id %}"><h3>{{ goods.name }}</h3></a>
                <div class="price">¥{{ goods.price }}</div>
                <p>库存：{{ goods.stock }}件</p>
            </div>
            {% empty %}
            <p>暂无上架商品</p>
            {% endfor %}
        </div>
    </div>
</body>
</html>
